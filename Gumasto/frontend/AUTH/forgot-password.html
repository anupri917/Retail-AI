<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Forgot Password | Gumasto</title>

  <link rel="stylesheet" href="../css/auth.css">
  <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body>

<!-- DARK MODE BUTTON -->
<button id="darkToggle" class="theme-btn">
  <i data-lucide="moon"></i>
</button>

<div class="auth-container" style="width:420px;height:auto">

  <div class="auth-form" style="width:100%">

    <h2>Reset Password</h2>
    <p class="subtitle">Verify email or phone</p>

    <!-- EMAIL / PHONE -->
    <div class="input-group">
      <label>Email / Phone</label>
      <input
        type="text"
        id="forgotIdentifier"
        placeholder="Enter your email or phone number"
      >
    </div>


    <!-- OTP INPUT SECTION -->
    <div class="input-group otp-group" id="otpSection" style="display:none;">
      <label>Enter OTP</label>

      <div class="otp-inputs">
        <input type="text" maxlength="1" />
        <input type="text" maxlength="1" />
        <input type="text" maxlength="1" />
        <input type="text" maxlength="1" />
        <input type="text" maxlength="1" />
        <input type="text" maxlength="1" />
      </div>

      <p class="error-text" id="otpError">Invalid or expired OTP</p>
    </div>
      <p class="subtitle" id="otpTimer" style="display:none;"></p>

    <!-- SEND / RESEND OTP (SINGLE BUTTON) -->
    <button
      class="primary"
      id="otpActionBtn"
      disabled
    >
      Send OTP
    </button>

    <!-- BACK -->
    <div class="link">
      <a href="login.html">Back to login</a>
    </div>

  </div>
</div>

<!-- AUTH LOGIC -->
<script src="../js/auth.js"></script>

<script>
/* ================= INIT ================= */

lucide.createIcons();

/* enable Send OTP only when email/phone typed */
const idInput = document.getElementById("forgotIdentifier");
const otpBtn = document.getElementById("otpActionBtn");

idInput.addEventListener("input", () => {
  otpBtn.disabled = !idInput.value.trim();
});

/* attach click once DOM is ready */
otpBtn.onclick = handleOtpAction;
</script>

</body>
</html>